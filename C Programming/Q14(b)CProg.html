<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Virtual Laboratory</title>
    <link rel="stylesheet" href="/TemplateCss.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

</head>

<body>
    <nav class="navbar navbar-expand-lg " style="background-color:rgba(6, 235, 185, 0.907)">
        <div class="container-fluid">
            <a class="navbar-brand" href="/Vlabs Frontend/index.html">
                <style>
                    .image {
                        width: 40px;
                        height: 40px;
                        border-radius: 50%;
                    }
                </style>
                <img src="/images/Virtual labs.png" alt="Bootstrap" class="image">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/Vlabs Frontend/index.html"><b>Home</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Vlabs Frontend/htmlfiles/aboutUs.html"><b>About</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Vlabs Frontend/htmlfiles/Syllabus.html"><b>Syllabus</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Vlabs Frontend/htmlfiles/VLabs.html"><b>VLabs</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/Vlabs Frontend/htmlfiles/ContactUs.html"><b>Contact Us</b></a>
                    </li>    
                </ul>
                
                

            </div>
        </div>
    </nav>

    <!--Body of Description-->
    <div class="Description">
        <h4>C PROGRAMMING FOR PROBLEM SOLVING LAB
            <hr>
        </h4>
        <p style="color:red;"><b>Q14(b). Write a C program to reverse the first n characters in a file. The file name and n are specified on the command line. Use f seek function.</b></p>
        <p><b>Aim:</b> To implement a C program to reverse the first n characters in a file. The file name and n are specified on the command line. Use f seek function.</p>
        <p><b>System and Software Requirements:</b> A Computer with any Operating system with GCC compiler installed in
            it.</p>
        
        <p align="justify"><b>Description:</b><br>
            The fseek function is a standard library function in the C programming language that is used to change the file position indicator for the given file stream. The function takes three arguments: a pointer to a FILE, an offset value, 
            and a reference position. The reference position can be either SEEK_SET (the beginning of the file), SEEK_CUR (the current position of the file), or SEEK_END (the end of the file).<br>
            The experiment starts by opening the specified file using the fopen function. The file is opened in binary mode (“b”) to allow for direct access to the binary representation of the file. Once the file is open, the experiment uses 
            the fseek function to set the file position indicator to the beginning of the file.<br>
            Next, the experiment uses a loop to read the first n characters from the file. For each character, the experiment writes the character to a temporary buffer. Once the loop is complete, the buffer will contain the first n characters 
            of the file in reverse order.<br>
            Finally, the experiment uses the fseek function to set the file position indicator to the beginning of the file. The experiment then writes the reversed characters back to the file, overwriting the original contents of the file.<br>
            Once the file has been updated, the experiment closes the file using the fclose function. Conclusion: The experiment demonstrates how the fseek function can be used to reverse the first n characters in a file. The experiment can be 
            used as a basis for more complex operations that require access to specific regions of a file. By using the fseek function, the experiment provides a simple and efficient way to modify the contents of a file.<br><br>
        <style>
            .imagecenter {
                width: 300px;
                height: 300px;
                display: block;
                margin-left: auto;
                margin-right: auto;

            }                
        </style>        
        <img src="/images/reversechar.jpg" alt="Not Found" class="imagecenter"><br><br>
        <b>Examples:</b><br>

        For Example: Let's consider a simple example to understand the working of the fseek function. Consider a file named "example.txt" that contains the following text:<br>
        abcdefghijklmnopqrstuvwxyz
        The goal of the experiment is to reverse the first 5 characters in the file. The file name and n (5) are specified on the command line. The steps of the experiment can be explained as follows:<br>
        Open the file: The file is opened using the fopen function, and a pointer to the file is obtained.<br>
        Set the file position indicator: The fseek function is used to set the file position indicator to the beginning of the file using the SEEK_SET reference position. The current position of the file is now 0.<br>
        Read the first n characters: A loop is used to read the first 5 characters from the file and store them in a temporary buffer. The characters are read in the following order: a, b, c, d, and e.<br>
        Reverse the characters: The characters in the temporary buffer are reversed, and the buffer now contains the following characters: e, d, c, b, and a.<br>
        Set the file position indicator: The fseek function is used to set the file position indicator to the beginning of the file using the SEEK_SET reference position. The current position of the file is now 0.<br>
        Write the reversed characters: The reversed characters are written back to the file, overwriting the original contents. The file now contains the following text:<br>
        edcbaefghijklmnopqrstuvwxyz<br>
        Close the file: The file is closed using the fclose function.<br>
        This is a simple example of how the fseek function can be used to reverse the first n characters in a file. The same approach can be applied to more complex operations as well.<br>
        
        </p>


        <b style="color:red;">Disclaimer : We recommend you to try the code by yourself before checking the solution.</b><br><br>

        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                        <b>Code Editor***</b>
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">

                        <style>
                            .cnsl {

                                text-decoration: none;
                                display: inline-block;
                                background-color: rgba(29, 96, 184, 0.902);
                                padding: 8px;
                                border-radius: 6px;
                                border: 1px solid #d5d9d9;
                                box-shadow: rgba(76, 82, 82, 0.5) 0 2px 5px 0;
                                box-sizing: border-box;
                                line-height: 20px;  
                                color: #edf0f3;
                            }

                        </style>
                        <a href="https://onecompiler.com/c" target="_blank" class="cnsl">Try on
                                Code
                                Editor</a><br>
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Solution 1
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        #include&lt;stdio.h&gt;<br>
                        #include&lt;string.h&gt;<br>
                        #include&lt;stdlib.h&gt;<br>  
                        #define BUF_SIZE 100<br> 
    
                        void reverse_n_chars(FILE *fp, int n) {<br> 
                          char buffer[BUF_SIZE];<br> 
                          int i;<br> 
                        
                          // Set the file position indicator to the beginning of the file<br> 
                          fseek(fp, 0, SEEK_SET);<br> 
                        
                          // Read the first n characters from the file into the buffer<br> 
                          for (i = 0; i &lt; n; i++) {<br> 
                            buffer[i] = fgetc(fp);<br> 
                          }<br> 
                        
                          // Reverse the characters in the buffer<br> 
                          for (i = 0; i &lt; n / 2; i++) {<br> 
                            char temp = buffer[i];<br> 
                            buffer[i] = buffer[n - i - 1];<br> 
                            buffer[n - i - 1] = temp;<br> 
                          }<br> 
                        
                          // Set the file position indicator to the beginning of the file<br> 
                          fseek(fp, 0, SEEK_SET);<br> 
                        
                          // Write the reversed characters back to the file<br> 
                          for (i = 0; i &lt; n; i++) {<br> 
                            fputc(buffer[i], fp);<br> 
                          }<br> 
                        }<br> 
                        
                        int main(int argc, char *argv[]) {<br> 
                          FILE *fp;<br> 
                          int n;<br> 
                        
                          if (argc != 3) {<br> 
                            printf("Usage: %s <file_name> <n>\n", argv[0]);<br> 
                            return 1;<br> 
                          }<br> 
                        
                          // Open the file in binary mode<br> 
                          fp = fopen(argv[1], "rb+");<br> 
                          if (fp == NULL) {<br> 
                            printf("Error: Unable to open file %s\n", argv[1]);<br> 
                            return 1;<br> 
                          }<br> 
                        
                          // Get the value of n from the command line<br> 
                          n = atoi(argv[2]);<br> 
                        
                          // Reverse the first n characters in the file<br> 
                          reverse_n_chars(fp, n);<br> 
                        
                          // Close the file<br> 
                          fclose(fp);<br> 
                        
                          return 0;<br> 
                        }<br> 
   
    

                        

                    </div>


                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Solution 2
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                    data-bs-parent="#accordionExample">
                    <div class="accordion-body">

                        #include&lt;stdio.h&gt;<br>
                        #include&lt;string.h&gt;<br>
                        #include&lt;stdlib.h&gt;<br>   
                        #define BUF_SIZE 100<br> 
    
    void reverse_n_chars(FILE *fp, int n) {<br> 
      char buffer[BUF_SIZE];<br> 
      int i;<br> 
    
      // Set the file position indicator to the beginning of the file<br> 
      fseek(fp, 0, SEEK_SET);<br> 
    
      // Read the first n characters from the file into the buffer<br> 
      fread(buffer, sizeof(char), n, fp);<br> 
    
      // Reverse the characters in the buffer<br> 
      for (i = 0; i &lt; n / 2; i++) {<br> 
        char temp = buffer[i];<br> 
        buffer[i] = buffer[n - i - 1];<br> 
        buffer[n - i - 1] = temp;<br> 
      }<br> 
    
      // Set the file position indicator to the beginning of the file<br> 
      fseek(fp, 0, SEEK_SET);<br> 
    
      // Write the reversed characters back to the file<br> 
      fwrite(buffer, sizeof(char), n, fp);<br> 
    }<br> 
    
    int main(int argc, char *argv[]) {<br> 
      FILE *fp;<br> 
      int n;<br> 
    
      if (argc != 3) {<br> 
        printf("Usage: %s <file_name> <n>\n", argv[0]);<br> 
        return 1;<br> 
      }<br> 
    
      // Open the file in binary mode<br> 
      fp = fopen(argv[1], "rb+");<br> 
      if (fp == NULL) {<br> 
        printf("Error: Unable to open file %s\n", argv[1]);<br> 
        return 1;<br> 
      }<br> 
    
      // Get the value of n from the command line<br> 
      n = atoi(argv[2]);<br> 
    
      // Reverse the first n characters in the file<br> 
      reverse_n_chars(fp, n);<br> 
    
      // Close the file<br> 
      fclose(fp);<br> 
    
      return 0;<br> 
    }<br> 
    
    

    

                    </div>
                </div>
            </div>

        </div>
    </div>









    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
        crossorigin="anonymous"></script>

        <style>
              
            .previous {
                text-decoration: none;
                display: inline-block;
                background-color: rgba(6, 235, 185, 0.907);
                padding: 8px 16px;
                border-radius: 6px;
                border: 1px solid #d5d9d9;
                color: #000000;
                box-shadow: rgba(76, 82, 82, 0.5) 0 2px 5px 0;
                box-sizing: border-box;
                line-height: 20px;
                position: relative;
                bottom: 20px;
                cursor: pointer;
                left: 50px;

                    }
                
            .next {
                text-decoration: none;
                display: inline-block;
                background-color: rgba(6, 235, 185, 0.907);
                padding: 8px 16px;
                border-radius: 6px;
                border: 1px solid #d5d9d9;
                color: #000000;
                box-shadow: rgba(76, 82, 82, 0.5) 0 2px 5px 0;
                box-sizing: border-box;
                line-height: 20px;
                position: relative;
                bottom: 20px;
                cursor: pointer;
                right: 50px;
                    
                }
                

    
        </style>
                <a href="Q14(a)CProg.html" class="previous"> &lt; Previous</a>
                <a href="Q15(a)CProg.html" style="float: right"  class="next">Next &gt;</a>

</body>

</html>